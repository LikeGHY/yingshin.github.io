---
layout: post
title: "《SRE:Google运维解密》读书笔记"
date: 2019-12-14 18:41:48
tags: [spark]
---


## 6. 分布式系统的监控

### What

监控(monitoring)用于收集、处理、汇总系统的实时量化数据，例如请求的数量和用时、错误的数量和用时，以及处理用时，应用服务器的存活时间。

### Why

设计系统时，这个系统应当是可观测的。功能上，比如我们对比实验组和对照组的数据情况；性能上，哪些节点快，哪些节点慢，哪个流程处理快，哪个流程处理慢？

或者系统有故障的话，看哪些指标，怎么报警出来？怎么区分报警的级别（mail/短信/电话）？

一个良好的系统，这些观测点应当有一个控制台(dashboard).

监控和报警可以在系统有问题时通知我们，但是对于“有些东西看起来有点问题”的处理方式要谨慎，否则员工进入“狼来了”效应。而且如果在家里，紧急报警的处理影响个人生活。

能做到这一点真的很难，需要技术的驱动并且长期稳定的架构(此处指组织架构)，才能长久的沉淀出来一个好的监控报警系统，试想如果业务逻辑、架构总在变化，这些技术都沉淀不下来，更不用说辅助的监控系统了。至少目前我还没有见过做到这种效果的公司。

监控系统应当做的简单，不要试图做一些“魔法”系统，例如试图自动学习阈值或者检测原因。现在 AI 提的很多，有些监控系统也介绍怎么引入了 AI，我觉得纯粹是吃饱了没事干。




